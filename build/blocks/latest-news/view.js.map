{"version":3,"file":"blocks/latest-news/view.js","mappings":"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","sources":["webpack://ieeesbtkmce/./src/blocks/latest-news/view.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function (event) {\n  document\n    .querySelectorAll(\"#latest-news-section\")\n    .forEach((latestNewsSection) => {\n      const nextButton = latestNewsSection.querySelector(\"#news-next\");\n      const prevButton = latestNewsSection.querySelector(\"#news-prev\");\n      const imagesClasses = {\n        default: \".news-item\",\n        front: \"news-front-img\",\n        back: \"news-back-img\",\n        backHidden: \"news-hidden-back-img\",\n        frontHidden: \"news-hidden-front-img\",\n      };\n      const slideDiv = latestNewsSection.querySelector(\n        imagesClasses.default,\n      ).parentElement;\n      const newsItems = latestNewsSection.querySelectorAll(\n        imagesClasses.default,\n      );\n      const disabledClasses = [\"pointer-events-none\", \"opacity-50\"];\n      const activeNewsItem = {\n        title: latestNewsSection.querySelector(\"#active-news-title\"),\n        content: latestNewsSection.querySelector(\"#active-news-content\"),\n        details: latestNewsSection.querySelector(\"#active-news-details\"),\n        register: latestNewsSection.querySelector(\"#active-news-register\"),\n      };\n      let activePos = 0;\n\n      const setContents = (newsItem) => {\n        const contentP = newsItem.querySelector(\"p\");\n        const title = contentP.dataset.title;\n        const moreDetailsUrl = contentP.dataset.detailsUrl;\n        const registerUrl = contentP.dataset.registerUrl;\n\n        activeNewsItem.title.innerHTML = title;\n        activeNewsItem.content.innerHTML = contentP.innerHTML;\n        activeNewsItem.details.href = moreDetailsUrl ? moreDetailsUrl : \"#\";\n        if (moreDetailsUrl == \"#\") {\n          activeNewsItem.details.classList.add(...disabledClasses);\n        } else {\n          activeNewsItem.details.classList.remove(...disabledClasses);\n        }\n        activeNewsItem.register.href = registerUrl ? registerUrl : \"#\";\n        if (registerUrl == \"#\") {\n          activeNewsItem.register.classList.add(...disabledClasses);\n        } else {\n          activeNewsItem.register.classList.remove(...disabledClasses);\n        }\n      };\n\n      const setImageClasses = () => {\n        newsItems.forEach((newsItem, i) => {\n          newsItem.classList.remove(\n            imagesClasses.frontHidden,\n            imagesClasses.front,\n            imagesClasses.back,\n            imagesClasses.backHidden,\n            \"hidden\",\n          );\n\n          if (i === activePos) {\n            newsItem.classList.add(imagesClasses.front);\n            setContents(newsItem);\n          } else if (i === (activePos + 1) % newsItems.length) {\n            newsItem.classList.add(imagesClasses.back);\n          } else if (\n            i === activePos - 1 ||\n            (activePos === 0 && i === newsItems.length - 1)\n          ) {\n            newsItem.classList.add(imagesClasses.frontHidden);\n          } else {\n            newsItem.classList.add(imagesClasses.backHidden);\n          }\n        });\n      };\n\n      setImageClasses();\n\n      const lnInit = () => {\n        const activeImg = latestNewsSection.querySelector(\".news-front-img\");\n        const imagesDiv = activeImg.parentElement;\n        const imagesDivWidth = imagesDiv.offsetWidth - 2;\n        activeImg.parentElement.style.height =\n          (imagesDivWidth / 1.675) * 1.1764705882352942 + \"px\";\n      };\n      lnInit();\n\n      window.addEventListener(\"resize\", () => {\n        lnInit();\n      });\n\n      const doNext = () => {\n        activePos++;\n        activePos = activePos >= newsItems.length ? 0 : activePos;\n        setImageClasses();\n      };\n\n      const doPrev = () => {\n        activePos--;\n        activePos = activePos < 0 ? newsItems.length - 1 : activePos;\n        setImageClasses();\n      };\n\n      var mc = new Hammer(slideDiv);\n      mc.on(\"swipeleft swiperight\", function (ev) {\n        if (ev.type == \"swipeleft\") {\n          doNext();\n        } else if (ev.type == \"swiperight\") {\n          doPrev();\n        }\n      });\n\n      nextButton.addEventListener(\"click\", doNext);\n      prevButton.addEventListener(\"click\", doPrev);\n    });\n});\n"],"names":["document","addEventListener","event","querySelectorAll","forEach","latestNewsSection","nextButton","querySelector","prevButton","imagesClasses","default","front","back","backHidden","frontHidden","slideDiv","parentElement","newsItems","disabledClasses","activeNewsItem","title","content","details","register","activePos","setContents","newsItem","contentP","dataset","moreDetailsUrl","detailsUrl","registerUrl","innerHTML","href","classList","add","remove","setImageClasses","i","length","lnInit","activeImg","imagesDiv","imagesDivWidth","offsetWidth","style","height","window","doNext","doPrev","mc","Hammer","on","ev","type"],"sourceRoot":""}