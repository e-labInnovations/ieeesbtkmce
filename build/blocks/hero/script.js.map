{"version":3,"file":"blocks/hero/script.js","mappings":"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","sources":["webpack://ieeesbtkmce/./src/blocks/hero/script.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function (event) {\n  var width,\n    height,\n    heroBG,\n    canvas,\n    ctx,\n    points,\n    target,\n    animateHeader = true;\n\n  // Main\n  initHeader();\n  initAnimation();\n  addListeners();\n\n  function initHeader() {\n    heroBG = document.getElementById(\"hero-bg\");\n\n    width = heroBG.clientWidth;\n    height = heroBG.clientHeight;\n    target = { x: width / 2, y: height / 2 };\n\n    canvas = document.getElementById(\"hero-canvas\");\n    canvas.width = width;\n    canvas.height = height;\n    ctx = canvas.getContext(\"2d\");\n\n    // create points\n    points = [];\n    for (var x = 0; x < width; x = x + width / 20) {\n      for (var y = 0; y < height; y = y + height / 20) {\n        var px = x + (Math.random() * width) / 20;\n        var py = y + (Math.random() * height) / 20;\n        var p = { x: px, originX: px, y: py, originY: py };\n        points.push(p);\n      }\n    }\n\n    // for each point find the 5 closest points\n    for (var i = 0; i < points.length; i++) {\n      var closest = [];\n      var p1 = points[i];\n      for (var j = 0; j < points.length; j++) {\n        var p2 = points[j];\n        if (!(p1 == p2)) {\n          var placed = false;\n          for (var k = 0; k < 5; k++) {\n            if (!placed) {\n              if (closest[k] == undefined) {\n                closest[k] = p2;\n                placed = true;\n              }\n            }\n          }\n\n          for (var k = 0; k < 5; k++) {\n            if (!placed) {\n              if (getDistance(p1, p2) < getDistance(p1, closest[k])) {\n                closest[k] = p2;\n                placed = true;\n              }\n            }\n          }\n        }\n      }\n      p1.closest = closest;\n    }\n\n    // assign a circle to each point\n    for (var i in points) {\n      var c = new Circle(\n        points[i],\n        2 + Math.random() * 2,\n        \"rgba(255,255,255,0.3)\",\n      );\n      points[i].circle = c;\n    }\n  }\n\n  // Event handling\n  function addListeners() {\n    if (!(\"ontouchstart\" in window)) {\n      window.addEventListener(\"mousemove\", mouseMove);\n    }\n    window.addEventListener(\"scroll\", scrollCheck);\n    window.addEventListener(\"resize\", resize);\n  }\n\n  function mouseMove(e) {\n    var posx = (posy = 0);\n    if (e.pageX || e.pageY) {\n      posx = e.pageX;\n      posy = e.pageY;\n    } else if (e.clientX || e.clientY) {\n      posx =\n        e.clientX +\n        document.body.scrollLeft +\n        document.documentElement.scrollLeft;\n      posy =\n        e.clientY +\n        document.body.scrollTop +\n        document.documentElement.scrollTop;\n    }\n    target.x = posx;\n    target.y = posy;\n  }\n\n  function scrollCheck() {\n    if (document.body.scrollTop > height) animateHeader = false;\n    else animateHeader = true;\n  }\n\n  function resize() {\n    width = heroBG.clientWidth;\n    height = heroBG.clientHeight;\n    canvas.width = width;\n    canvas.height = height;\n\n    initHeader();\n    initAnimation();\n  }\n\n  // animation\n  function initAnimation() {\n    animate();\n    for (var i in points) {\n      shiftPoint(points[i]);\n    }\n  }\n\n  function animate() {\n    if (animateHeader) {\n      ctx.clearRect(0, 0, width, height);\n      for (var i in points) {\n        // detect points in range\n        if (Math.abs(getDistance(target, points[i])) < 4000) {\n          points[i].active = 0.3;\n          points[i].circle.active = 0.6;\n        } else if (Math.abs(getDistance(target, points[i])) < 20000) {\n          points[i].active = 0.1;\n          points[i].circle.active = 0.3;\n        } else if (Math.abs(getDistance(target, points[i])) < 40000) {\n          points[i].active = 0.02;\n          points[i].circle.active = 0.1;\n        } else {\n          points[i].active = 0;\n          points[i].circle.active = 0;\n        }\n\n        drawLines(points[i]);\n        points[i].circle.draw();\n      }\n    }\n    requestAnimationFrame(animate);\n  }\n\n  function shiftPoint(p) {\n    TweenLite.to(p, 1 + 1 * Math.random(), {\n      x: p.originX - 50 + Math.random() * 100,\n      y: p.originY - 50 + Math.random() * 100,\n      ease: Circ.easeInOut,\n      onComplete: function () {\n        shiftPoint(p);\n      },\n    });\n  }\n\n  // Canvas manipulation\n  function drawLines(p) {\n    if (!p.active) return;\n    for (var i in p.closest) {\n      ctx.beginPath();\n      ctx.moveTo(p.x, p.y);\n      ctx.lineTo(p.closest[i].x, p.closest[i].y);\n      ctx.strokeStyle = \"rgba(156,217,249,\" + p.active + \")\";\n      ctx.stroke();\n    }\n  }\n\n  function Circle(pos, rad, color) {\n    var _this = this;\n\n    // constructor\n    (function () {\n      _this.pos = pos || null;\n      _this.radius = rad || null;\n      _this.color = color || null;\n    })();\n\n    this.draw = function () {\n      if (!_this.active) return;\n      ctx.beginPath();\n      ctx.arc(_this.pos.x, _this.pos.y, _this.radius, 0, 2 * Math.PI, false);\n      ctx.fillStyle = \"rgba(156,217,249,\" + _this.active + \")\";\n      ctx.fill();\n    };\n  }\n\n  // Util\n  function getDistance(p1, p2) {\n    return Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2);\n  }\n});\n"],"names":["document","addEventListener","event","width","height","heroBG","canvas","ctx","points","target","animateHeader","initHeader","initAnimation","addListeners","getElementById","clientWidth","clientHeight","x","y","getContext","px","Math","random","py","p","originX","originY","push","i","length","closest","p1","j","p2","placed","k","undefined","getDistance","c","Circle","circle","window","mouseMove","scrollCheck","resize","e","posx","posy","pageX","pageY","clientX","clientY","body","scrollLeft","documentElement","scrollTop","animate","shiftPoint","clearRect","abs","active","drawLines","draw","requestAnimationFrame","TweenLite","to","ease","Circ","easeInOut","onComplete","beginPath","moveTo","lineTo","strokeStyle","stroke","pos","rad","color","_this","radius","arc","PI","fillStyle","fill","pow"],"sourceRoot":""}