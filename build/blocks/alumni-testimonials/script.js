(()=>{"use strict";var t={n:e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return t.d(a,{a}),a},d:(e,a)=>{for(var r in a)t.o(a,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const e=window.wp.apiFetch;var a=t.n(e);document.addEventListener("DOMContentLoaded",(function(t){document.querySelectorAll(".alumni-testimonials").forEach((t=>{const e=t.querySelector("#at-content"),r=t.querySelector("#at-name"),s=t.querySelector("#at-batch"),n=t.querySelector("svg"),i=e.innerText,l=t=>{const a=d3.select(n);let l=Array.from(t).sort((()=>Math.random()-.5));const o=a.selectAll("circle"),d=Math.min(l.length,15);o.attr("data-r",(function(){return d3.select(this).attr("r")})),l=l.slice(0,d).map(((t,e)=>({...t,r:d3.select(o.nodes()[e]).attr("r")})));const c=a.append("defs");function u(t,e,a,r){t=parseFloat(t),e=parseFloat(e),a=1.4*(a=parseFloat(a)),o.nodes().map((s=>{let n=d3.select(s),i=parseFloat(n.attr("cx")),l=parseFloat(n.attr("cy")),o=parseFloat(n.attr("data-r"));var d=Math.sqrt((t-i)*(t-i)+(e-l)*(e-l));if(d<a+o||d===a+o){var c=d-a;c=Math.max(c,0);let t=n.attr("fill");const e=t.includes("url")?t.slice(4,-1):null;r?(n.transition().ease(d3.easeExpInOut).duration(200).attr("r",o),e&&d3.select(e).select("image").transition().ease(d3.easeExpInOut).duration(200).attr("width",2*o)):(n.transition().ease(d3.easeExpInOut).duration(200).attr("r",c),e&&d3.select(e).select("image").transition().ease(d3.easeExpInOut).duration(200).attr("width",2*c))}}))}l.forEach(((t,a)=>{c.append("pattern").attr("id","pattern_"+t.id).attr("width",1).attr("height",1).attr("patternUnits","objectBoundingBox").append("svg:image").style("opacity",0).attr("xlink:href",t.img).attr("width",2*t.r).style("opacity",1),d3.select(o.nodes()[a]).attr("fill",(()=>"url(#pattern_"+t.id+")")).on("mouseover",(function(a){let n=d3.select(this);u(n.attr("cx"),n.attr("cy"),n.attr("r"),!1),r.classList.remove("invisible"),s.classList.remove("invisible"),r.classList.add("visible"),s.classList.add("visible"),r.innerText=t.name,s.innerText=t.batch,e.innerText=t.content,n.style("stroke","#0B567F");let i=1.3*t.r;n.transition().ease(d3.easePolyInOut).duration(200).attr("r",i),d3.select("#pattern_"+t.id).select("image").transition().ease(d3.easePolyInOut).duration(200).attr("width",2*i)})).on("mouseout",(function(a){let n=d3.select(this);u(n.attr("cx"),n.attr("cy"),n.attr("r"),!0),r.classList.add("invisible"),s.classList.add("invisible"),r.classList.remove("visible"),s.classList.remove("visible"),e.innerText=i,n.style("stroke","none"),n.transition().ease(d3.easeExpInOut).duration(200).attr("r",t.r),d3.select("#pattern_"+t.id).select("image").transition().ease(d3.easeExpInOut).duration(200).attr("width",2*t.r)}))}))};(async()=>{a()({path:"/alumni_testimonials/v1/all"}).then((t=>{l(t)}))})()}))}))})();